!function(){"use strict";const e="775f0b592f7bde9f85571bb76b8f965d",t="https://image.tmdb.org/t/p/",a="w500";var n=function(){document.querySelector(".container").innerHTML=" "};var i=function i(){const s=document.createElement("form");s.classList.add("search"),s.innerHTML='\n  <input type="search" name="search" id="search" placeholder="Search for movies or TV series" />\n  <input type="submit" value="Search" />\n  ',document.querySelector(".container").appendChild(s),document.querySelector("form").addEventListener("click",(s=>{s.preventDefault();const d=document.querySelector("form input[type='search']");d.addEventListener("keypress",(s=>{const o=d.value.toLowerCase();var c;"Enter"===s.key&&(n(),i(),c=o,async function(){const n=`https://api.themoviedb.org/3/search/multi?api_key=${e}&language=en-US&query=${c}&page=1&include_adult=false`,i=await Promise.all([fetch(n)]);!function(e){let n=e.results;n=n?n.filter((e=>"person"!==e.media_type)):[],n=n?n.filter((e=>null!==e.backdrop_path||null!==e.poster_path)):[];let i="";n.forEach((e=>{const n=e.id,s=e.title||e.name,d=e.release_date||e.first_air_date||" ",o=e.backdrop_path||e.poster_path;let c=`\n    <li class='item' data-id='${n}'>\n      <div class='image'><img src="${t}${a}${o}"></div>\n      <div class='meta'>\n        <div class='meta-des'><p>${d.substring(0,d.length-6)}</p><span></span><p>Movie</p></div>\n        <h2 class='meta-title'>${s}</h2>\n      </div>\n    </li>`;i+=c}));const s=document.createElement("h1");s.innerHTML=`<h1 class="movies-title">Results for "${c}"</h1>`,document.querySelector(".container").appendChild(s);const d=document.createElement("ul");d.classList.add("movies"),document.querySelector(".container").appendChild(d),d.innerHTML=i}(await i[0].json())}())}))}))},s=function(e,t){const a=document.createElement("section");return a.classList.add("section"),a.innerHTML=`\n  <div class="section-wrap">\n    <div class="section__title">\n    <h2>${e}</h2>\n    <span>${t}</span>\n    </div>\n    <a class="section__see-more">See more</a>\n  </div>`,document.querySelector(".container").appendChild(a),a},d=function(e){let n=e.results;n=n?n.filter((e=>null!==e.backdrop_path)):[];let i="";return n.slice(0,6).forEach((e=>{const n=e.id,s=e.title||e.name,d=e.release_date||e.first_air_date,o=e.backdrop_path,c=e.release_date?"Movie":"TV Series",l=e.release_date?'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M16.956 0H3.044A3.044 3.044 0 0 0 0 3.044v13.912A3.044 3.044 0 0 0 3.044 20h13.912A3.044 3.044 0 0 0 20 16.956V3.044A3.044 3.044 0 0 0 16.956 0ZM4 9H2V7h2v2Zm-2 2h2v2H2v-2Zm16-2h-2V7h2v2Zm-2 2h2v2h-2v-2Zm2-8.26V4h-2V2h1.26a.74.74 0 0 1 .74.74ZM2.74 2H4v2H2V2.74A.74.74 0 0 1 2.74 2ZM2 17.26V16h2v2H2.74a.74.74 0 0 1-.74-.74Zm16 0a.74.74 0 0 1-.74.74H16v-2h2v1.26Z" fill="currentColor"/></svg>':'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M20 4.481H9.08l2.7-3.278L10.22 0 7 3.909 3.78.029 2.22 1.203l2.7 3.278H0V20h20V4.481Zm-8 13.58H2V6.42h10v11.64Zm5-3.88h-2v-1.94h2v1.94Zm0-3.88h-2V8.36h2v1.94Z" fill="currentColor"/></svg>';let r=`\n    <li class='item' data-id='${n}'>\n      <div class='image'><img src="${t}${a}${o}"></div>\n      <div class='meta'>\n        <div class='meta-des'><p>${d.substring(0,d.length-6)}</p><span></span>${l}<p class="meta-type">${c}</p></div>\n        <h2 class='meta-title'>${s}</h2>\n      </div>\n    </li>`;i+=r})),i},o=function(e){const t=document.createElement("div");t.classList.add("swiper","mySwiper");const a=document.createElement("ul");a.classList.add("swiper-wrapper");const n=document.querySelector(".mySwiper")?"TV Series":"Movies";s("Trending",n).appendChild(t),t.appendChild(a),a.innerHTML=d(e),document.querySelectorAll(".mySwiper ul li").forEach((e=>{e.classList.remove("item"),e.classList.add("swiper-slide")})),new Swiper(".mySwiper",{slidesPerView:1,spaceBetween:20,freeMode:{enabled:!1},pagination:{enabled:!1},paginationDisabledClass:"swiper-pagination-disabled",breakpoints:{768:{slidesPerView:"auto",spaceBetween:40,pagination:{enabled:!1},freeMode:{enabled:!0}}}})},c=function(n,i){!async function(){const s=`https://api.themoviedb.org/3/${i}/${n}?api_key=${e}&language=en-US`,d=`https://api.themoviedb.org/3/${i}/${n}/credits?api_key=${e}&language=en-US`,o=await Promise.all([fetch(s),fetch(d)]);!function(e,n){const i=e.poster_path||e.backdrop_path,s=e.title||e.name,d=e.tagline,o=e.vote_average.toFixed(1),c=e.runtime||"N/A",l=e.release_date||e.first_air_date,r=e.status,p=(Object.values(e.genres).map((e=>e.name))||[]).map((e=>`<li>${e}</li>`)).join(" "),v=e.overview,m=(Object.values(n.cast).map((e=>e.name))||[]).map((e=>`<li>${e}</li>`)).join(" ");let h=`\n    <section class="movie-detail">\n    <div class="movie-detail__img"><img src="${t}${a}${i}" alt="${s}"></div>\n    <div class="movie-detail__wrapper">\n      <h1 class="movie-detail__title">${s}</h1>\n      <p class="movie-detail__short-des">${d}</p>\n      <div class="movie-detail__vote-average">${o}</div>\n      <div class="movie-detail__meta">\n        <div class="movie-detail__length"><span>Length</span>${c} min.</div>\n        <div class="movie-detail__language"><span>Language</span>English</div>\n        <div class="movie-detail__year"><span>Year</span>${l.substring(0,l.length-6)}</div>\n        <div class="movie-detail__status"><span>Status</span>${r}</div>\n      </div>\n      <div class="movie-detail__genres"><span>Genres</span><ul>${p}</ul></div>\n      <p class="movie-detail__des"><span>Overview</span>${v}</p>\n      <div class="movie-detail__cast"><span>Actors</span><ul>${m}</ul></div>\n    </div>\n    </section>`;const u=document.createElement("div");u.classList.add("movies"),document.querySelector(".container").appendChild(u),u.innerHTML=h}(await o[0].json(),await o[1].json())}()},l=function(s){!async function(){const d=`https://api.themoviedb.org/3/genre/${s}/list?api_key=${e}&language=en-US`,o=await fetch(d);!function(s,d){let o=s.genres,c="";o.forEach((e=>{let t=`<a data-id="${e.id}" class="genres__item">${e.name}</a>`;c+=t}));const l=document.createElement("div");l.classList.add("genres"),document.querySelector(".container").appendChild(l),l.innerHTML=c,l.addEventListener("click",(s=>{const o=s.target,c=o.textContent,l=o.dataset.id;n(),i(),function(n,i,s){let d=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;!async function(){const o=`https://api.themoviedb.org/3/discover/${s}?api_key=${e}&sort_by=popularity.desc&include_adult=false&include_video=false&page=${d}&with_genres=${i}`,c=await fetch(o);!function(e){let i=e.results,s="";i.forEach((e=>{const n=e.id,i=e.title||e.name,d=e.release_date||e.first_air_date||" ",o=e.backdrop_path||e.poster_path;let c=`\n      <li class='item' data-id='${n}'>\n        <div class='image'><img src="${t}${a}${o}"></div>\n        <div class='meta'>\n          <div class='meta-des'><p>${d.substring(0,d.length-6)}</p><span></span><svg width="15" height="15" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M16.956 0H3.044A3.044 3.044 0 0 0 0 3.044v13.912A3.044 3.044 0 0 0 3.044 20h13.912A3.044 3.044 0 0 0 20 16.956V3.044A3.044 3.044 0 0 0 16.956 0ZM4 9H2V7h2v2Zm-2 2h2v2H2v-2Zm16-2h-2V7h2v2Zm-2 2h2v2h-2v-2Zm2-8.26V4h-2V2h1.26a.74.74 0 0 1 .74.74ZM2.74 2H4v2H2V2.74A.74.74 0 0 1 2.74 2ZM2 17.26V16h2v2H2.74a.74.74 0 0 1-.74-.74Zm16 0a.74.74 0 0 1-.74.74H16v-2h2v1.26Z" fill="currentColor"/></svg><p>Movie</p></div>\n          <h2 class='meta-title'>${i}</h2>\n        </div>\n      </li>`;s+=c}));const d=document.createElement("h1");d.innerHTML=`<h1 class="movies-title">${n}</h1>`,document.querySelector(".container").appendChild(d);const o=document.createElement("ul");o.classList.add("movies"),document.querySelector(".container").appendChild(o),o.innerHTML=s}(await c.json())}()}(c,l,d)}))}(await o.json(),s)}()};const r=document.querySelectorAll(".nav__main-nav div");r.forEach((t=>{t.addEventListener("click",(t=>{const a=t.currentTarget,p=a.id;!function(e){r.forEach((e=>e.classList.remove("active"))),e.classList.add("active")}(a),n(),i(),"btn-main"!==p?l("btn-movie"!==p?"tv":"movie"):async function(){const t=`https://api.themoviedb.org/3/trending/movie/day?api_key=${e}`,a=`https://api.themoviedb.org/3/movie/popular?api_key=${e}`,l=`https://api.themoviedb.org/3/movie/top_rated?api_key=${e}`,r=`https://api.themoviedb.org/3/trending/tv/day?api_key=${e}`,p=`https://api.themoviedb.org/3/tv/popular?api_key=${e}`,v=`https://api.themoviedb.org/3/tv/top_rated?api_key=${e}`,m=`https://api.themoviedb.org/3/tv/airing_today?api_key=${e}`,h=await Promise.all([fetch(t),fetch(a),fetch(l),fetch(r),fetch(p),fetch(v),fetch(m)]),u=await h[0].json(),g=await h[1].json(),_=await h[2].json(),f=await h[3].json(),$=await h[4].json(),w=await h[5].json(),y=await h[6].json();o(u),function(e){const t=document.createElement("ul");t.classList.add("standard"),s("Popular","Movie").appendChild(t),t.innerHTML=d(e)}(g),function(e){const t=document.createElement("ul");t.classList.add("standard"),s("Top Rated","Movie").appendChild(t),t.innerHTML=d(e)}(_),o(f),function(e){const t=document.createElement("ul");t.classList.add("standard"),s("Popular","Tv series").appendChild(t),t.innerHTML=d(e)}($),function(e){const t=document.createElement("ul");t.classList.add("standard"),s("Top Rated","Tv series").appendChild(t),t.innerHTML=d(e)}(w),function(e){const t=document.createElement("ul");t.classList.add("standard"),s("Airing Today","Tv series").appendChild(t),t.innerHTML=d(e)}(y),document.querySelectorAll("li[data-id]").forEach((e=>{e.addEventListener("click",(t=>{const a=t.currentTarget,s=(a.textContent,a.dataset.id),d="TV Series"!==e.querySelector(".meta-type").innerHTML?"movie":"tv";n(),i(),c(s,d)}))}))}()}))})),r[0].click()}();